<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Debug - Coh√©rence Cardiaque</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #1a1a1a;
            color: #0f0;
        }
        #console {
            background: #000;
            border: 1px solid #0f0;
            padding: 10px;
            height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        .log { margin: 2px 0; }
        .error { color: #f00; }
        .warn { color: #ff0; }
        button {
            padding: 10px 20px;
            margin: 5px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>üîç Test de Debug - Coh√©rence Cardiaque</h1>
    <div id="console"></div>
    
    <button onclick="testAudio()">Test Sons</button>
    <button onclick="testMusic()">Test Musique</button>
    <button onclick="clearConsole()">Clear</button>
    
    <hr>
    <p>Ouvrez √©galement la console du navigateur (F12) pour voir tous les logs.</p>
    
    <script>
        const consoleDiv = document.getElementById('console');
        
        // Intercepter console.log
        const originalLog = console.log;
        const originalError = console.error;
        const originalWarn = console.warn;
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            addToConsole(args.join(' '), 'log');
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            addToConsole(args.join(' '), 'error');
        };
        
        console.warn = function(...args) {
            originalWarn.apply(console, args);
            addToConsole(args.join(' '), 'warn');
        };
        
        function addToConsole(msg, type = 'log') {
            const div = document.createElement('div');
            div.className = 'log ' + type;
            div.textContent = new Date().toLocaleTimeString() + ' - ' + msg;
            consoleDiv.appendChild(div);
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        }
        
        function clearConsole() {
            consoleDiv.innerHTML = '';
        }
        
        function testAudio() {
            console.log('üß™ Test des fichiers audio...');
            
            // Test son inspiration
            const inhale = new Audio('./sounds/inhale/cloche.mp3');
            inhale.addEventListener('loadeddata', () => {
                console.log('‚úÖ Cloche charg√©e - dur√©e:', inhale.duration + 's');
            });
            inhale.addEventListener('error', (e) => {
                console.error('‚ùå Erreur chargement cloche:', e);
            });
            inhale.load();
            
            // Test son expiration
            const exhale = new Audio('./sounds/exhale/bol.mp3');
            exhale.addEventListener('loadeddata', () => {
                console.log('‚úÖ Bol charg√© - dur√©e:', exhale.duration + 's');
            });
            exhale.addEventListener('error', (e) => {
                console.error('‚ùå Erreur chargement bol:', e);
            });
            exhale.load();
        }
        
        function testMusic() {
            console.log('üß™ Test de la musique...');
            
            const music = new Audio('./music/Music1.mp3');
            music.addEventListener('loadeddata', () => {
                console.log('‚úÖ Musique charg√©e - dur√©e:', music.duration + 's');
            });
            music.addEventListener('error', (e) => {
                console.error('‚ùå Erreur chargement musique:', e);
            });
            music.load();
        }
        
        console.log('üöÄ Page de debug charg√©e');
        console.log('üìç URL:', window.location.href);
    </script>
</body>
</html>
